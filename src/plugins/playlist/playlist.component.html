<mp-visualization></mp-visualization>

<div class="controls">
  <input
    class="mp-darken"
    #searchBox
    type="text"
    placeholder="Filter..."
    [(ngModel)]="searchQuery"
    (ngModelChange)="search()"
  >

  <div
    class="mp-tab"
    *ngFor="let playlistName of playlists.openedPlaylists$ | async"
    [class.selected]="playlistName == playlist.playlist.name"
    (click)="loadOrClosePlaylist($event, playlistName)"
  >
    <span class="name">{{ playlistName }}</span>
    <i class="material-icons" (click)="closePlaylist(playlistName)">
      close
    </i>
  </div>
</div>

<mp-list
  #list
  id="playlist-list"
  noItemsMessage="Playlist is empty"
  [columns]="playlist.columns"
  [items]="filteredTracks"
  [markedItem]="playingTrack"
  [itemsEqualityFn]="tracksEqual"
  (select)="play($event)"
  (delete)="playlist.deleteTrack($event)"
>
  <template let-item="item" let-columns="columns">
    <div class="mp-cell" *ngFor="let column of columns">
      {{ column.getter(item) }}
    </div>
  </template>
</mp-list>
